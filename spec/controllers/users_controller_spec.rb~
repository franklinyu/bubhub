require 'spec_helper'

describe UsersController do
  describe "registering a new user" do
    it "should create a new user" do
      user = double("user")
      allow(user).to receive(:first_name) { "Gregg" }
      allow(user).to receive(:last_name) { "Arquero"}
      allow(user).to receive(:bu_id) {"1234567890"}
      allow(user).to receive(:email) {"garquer1@binghamton.edu"}
      allow(user).to receive(:pin) {"1993"}

      User.should_receive(:create).and_return(user)
      post :create, {:user => user}
      response.should redirect_to(root_page_path)
    end
  end
end
